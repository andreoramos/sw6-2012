\section{Authentication Activity}

This activity implements the authentication functionality described in \autoref{design:authentication}. 
It is also used, as a proof of concept, as the current lock screen by WOMBAT, as presented in \autoref{backlog:lock_screen}.

An open source QR-code scanning library released under \emph{Apache License 2.0}, called ZXing \citep{web:ZXing}, is used for the QR-code scanning functionality.
Changes are made to the original ZXing library to make it suit our needs, in accordance with the license.

There is also implemented vibration, and an animation has been implemented to guide users through using the scanner, as mentioned in \autoref{design:authentication}.\\

The \activity{AuthenticationActivity} currently contains a work around for an administration issue that has not been solved yet.
The snippet showing this can be seen in \autoref{lst:authenticationActivity}, and needs further explanation:

\begin{lstlisting}[style=sourceCode, language=JAVA, caption=Code snippet from the AuthenticationActivity, label=lst:authenticationActivity] 
				// If the authentication activity was not launched by the launcher...
				if (!getIntent().hasCategory("dk.aau.cs.giraf.launcher.GIRAF")) {
					Tools.attachLauncher(mContext); // should not be called
					Tools.saveLogInData(mContext, mPreviousProfile.getId());
					startActivity(mHomeIntent);
				} else {
					finish();
				}
\end{lstlisting}

When a \giraf[] component saves settings regarding a user, the component needs to be attached to the user in question.
During the development, this has not always been the case, and therefore, a workaround has been introduced, which is shown on line three in \autoref{lst:authenticationActivity}.